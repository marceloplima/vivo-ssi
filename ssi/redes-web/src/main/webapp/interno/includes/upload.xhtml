<html
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html"
  	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:ui="http://java.sun.com/jsf/facelets"
  	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  	xsi:schemaLocation="http://www.w3.org/1999/xhtml http://www.w3.org/2002/08/xhtml/xhtml1-transitional.xsd"
 	xmlns:a4j="http://richfaces.org/a4j"
 	xmlns:rich="http://richfaces.org/rich"
 	xmlns:hh="http://balusc.net/jsf/html">
 	
	<h:form id="formupload" method="post" enctype="multipart/form-data">
		<rich:popupPanel id="popupupload" domElementAttachment="form" modal="true" width="500" height="220" zindex="2" show="#{uploadBean.exibeupload}" showWhenRendered="#{uploadBean.exibeupload}">
			<f:facet name="header">
				<h:outputText value="Upload de Arquivo" />
			</f:facet>
			<f:facet name="controls">
		        <h:outputLink value="#" onclick="#{rich:component('popupupload')}.hide(); return false;">
		        	<img src="#{request.contextPath}/imagens/action_fechar.png" title="fechar"/>
		    	</h:outputLink>
	        </f:facet>
	        <hh:inputFile id="file" name="file" value="#{uploadBean.file}" validator="fileValidator"/>
	        <h:outputText value="File #{uploadBean.file.name} enviado com sucesso!" 
	                rendered="#{not empty uploadBean.file}" />
	        <h:inputHidden id="caminhoanexo" name="caminhoanexo" value="#{uploadBean.tipoupload}"/>
	        <h:commandButton value="Anexar" action="#{uploadBean.submit()}" />
	        <h:messages />
		</rich:popupPanel>
	</h:form>
</html>